---
import { siteConfig } from "../config";

const hasProjects = siteConfig.projects && siteConfig.projects.length > 0;
const hasExperience = siteConfig.experience && siteConfig.experience.length > 0;
const hasEducation = siteConfig.education && siteConfig.education.length > 0;
---

<header id="header" class="fixed top-4 left-1/2 -translate-x-1/2 z-50 hidden md:block opacity-0 pointer-events-none transition-all duration-300">
  <nav
    class="floating-header px-6 py-3 rounded-full border backdrop-blur-xl"
    style={`background-color: ${siteConfig.colors.primary}cc; border-color: ${siteConfig.colors.primaryLight}80`}
  >
    <ul class="flex items-center gap-6">
      <li>
        <span class="text-sm font-bold tracking-wide" style={`color: ${siteConfig.colors.accent}`}>SC</span>
      </li>
      <li>
        <a href="#about" class="nav-link text-sm font-medium transition-colors" style={`color: #94a3b8`}>
          Sobre Mi
        </a>
      </li>
      {hasProjects && (
        <li>
          <a href="#projects" class="nav-link text-sm font-medium transition-colors" style={`color: #94a3b8`}>
            Servicios
          </a>
        </li>
      )}
      {hasExperience && (
        <li>
          <a href="#experience" class="nav-link text-sm font-medium transition-colors" style={`color: #94a3b8`}>
            Trayectoria
          </a>
        </li>
      )}
      {hasEducation && (
        <li>
          <a href="#education" class="nav-link text-sm font-medium transition-colors" style={`color: #94a3b8`}>
            Formaci√≥n
          </a>
        </li>
      )}
      <li>
        <a
          href={`mailto:${siteConfig.social?.email}`}
          class="btn-hover px-4 py-1.5 rounded-full text-xs font-semibold text-white"
          style={`background-color: ${siteConfig.colors.accent}`}
        >
          Contacto
        </a>
      </li>
    </ul>
  </nav>
</header>

<script>
  window.addEventListener("scroll", () => {
    const header = document.getElementById("header");
    if (window.scrollY > 300) {
      header?.classList.remove("opacity-0", "pointer-events-none");
      header?.classList.add("opacity-100", "pointer-events-auto");
    } else {
      header?.classList.add("opacity-0", "pointer-events-none");
      header?.classList.remove("opacity-100", "pointer-events-auto");
    }
  });
</script>

<style>
  html { scroll-behavior: smooth; }
  .nav-link:hover { color: #DCA54A !important; }
</style>
